import{j as e,T as a,B as r,K as z,_ as Ee,a3 as te,a2 as Be,ac as re,a4 as P,aa as Z,ad as De,ag as Ne,ah as Me,L as y,t as oe,x as As,n as Ps,ai as Ws,h as Es,i as Bs,r as i,R as Ds,A as Ke,w as Ns,X as Ms,P as Re,aj as Ks,l as T,H as ne,a5 as Fe,I as Rs,f as _,ak as Le}from"./index-BrlLxRfg.js";import{M as $e,B as Fs,D as Ls}from"./MultiImageUpload-D1QXIzkl.js";import{A as ae,a as le,b as ce}from"./AccordionSummary-BaxlRjo3.js";import{P as Ve}from"./phone-BwG20pQO.js";import{G as $s}from"./gift-CPIC1hF4.js";import{C as Ge}from"./calendar-CWGmOYG6.js";import{C as Vs}from"./Collapse-Dbbf_0un.js";import{S as J}from"./sparkles-B9JdP30V.js";import{S as Gs}from"./save-TYYZ_3XG.js";import"./star-BaS5_F6A.js";const qs=({pickupAddress:j,shippingEnabled:u,shippingCostType:x,shippingCostFixed:L,shippingDescription:Q,priceNegotiable:W,isFree:d,duration:E,onShippingEnabledChange:C,onShippingCostTypeChange:$,onShippingCostFixedChange:v,onShippingDescriptionChange:B,onPriceNegotiableChange:D,onIsFreeChange:X,onDurationChange:N,pickupEnabled:S,onPickupEnabledChange:M,phoneVisible:k=!1})=>{const V=()=>u?x==="free"?"Kostenlos":x==="fixed"?`€${L.toFixed(2)}`:"KI-berechnet":"Nicht verfügbar";return e.jsxs(ae,{sx:{mt:3,border:"1px solid",borderColor:"divider",borderRadius:2,"&:before":{display:"none"},boxShadow:"none"},children:[e.jsxs(le,{expandIcon:e.jsx(re,{size:20}),sx:{"& .MuiAccordionSummary-content":{display:"flex",flexDirection:"column",gap:1.5}},children:[e.jsx(a,{variant:"subtitle2",sx:{fontWeight:600,mb:.5},children:"Artikel-Einstellungen"}),e.jsxs(r,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[S&&e.jsx(z,{icon:e.jsx(Ee,{size:14}),label:j?`Abholung: ${j}`:"Abholung möglich",size:"small",sx:{fontSize:"0.75rem"}}),S&&k&&e.jsx(z,{icon:e.jsx(Ve,{size:14}),label:"Tel. sichtbar",size:"small",color:"info",sx:{fontSize:"0.75rem"}}),e.jsx(z,{icon:e.jsx(te,{size:14}),label:`Versand: ${V()}`,size:"small",color:u?"primary":"default",sx:{fontSize:"0.75rem"}}),d&&e.jsx(z,{icon:e.jsx($s,{size:14}),label:"Zu verschenken",size:"small",color:"success",sx:{fontSize:"0.75rem"}}),!d&&W&&e.jsx(z,{icon:e.jsx(Be,{size:14}),label:"VB",size:"small",sx:{fontSize:"0.75rem",fontWeight:700,bgcolor:"warning.main",color:"white"}}),e.jsx(z,{icon:e.jsx(Ge,{size:14}),label:`${E} Tage`,size:"small",sx:{fontSize:"0.75rem"}})]})]}),e.jsx(ce,{sx:{pt:2,borderTop:"1px solid",borderColor:"divider"},children:e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsxs(r,{children:[e.jsxs(a,{variant:"subtitle2",sx:{fontWeight:600,mb:2,display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ee,{size:16}),"Abholung"]}),e.jsx(P,{control:e.jsx(Z,{checked:S,onChange:h=>M(h.target.checked),size:"small"}),label:"Abholung aktivieren"}),S&&e.jsxs(r,{sx:{mt:1,ml:4},children:[e.jsxs(a,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:["📍 ",j||"Keine Adresse ausgewählt"]}),k&&e.jsxs(a,{variant:"caption",color:"info.main",sx:{display:"flex",alignItems:"center",gap:.5,mt:.5},children:[e.jsx(Ve,{size:12})," Telefonnummer wird im Inserat angezeigt"]}),!k&&j&&e.jsx(a,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:"🔒 Telefonnummer wird nicht angezeigt"})]})]}),e.jsxs(r,{children:[e.jsxs(a,{variant:"subtitle2",sx:{fontWeight:600,mb:2,display:"flex",alignItems:"center",gap:1},children:[e.jsx(te,{size:16}),"Versand"]}),e.jsx(P,{control:e.jsx(Z,{checked:u,onChange:h=>C(h.target.checked),size:"small"}),label:"Versand aktivieren",sx:{mb:2}}),u&&e.jsxs(r,{sx:{ml:4,display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(De,{fullWidth:!0,size:"small",children:[e.jsx(Ne,{children:"Versandkosten"}),e.jsxs(Me,{value:x,label:"Versandkosten",onChange:h=>$(h.target.value),children:[e.jsx(y,{value:"ai_calculated",children:"KI-berechnet"}),e.jsx(y,{value:"fixed",children:"Festpreis"}),e.jsx(y,{value:"free",children:"Kostenlos"})]})]}),(x==="fixed"||x==="ai_calculated")&&e.jsx(oe,{fullWidth:!0,size:"small",type:"number",label:x==="ai_calculated"?"Versandkosten (€) - Manuell festlegen":"Versandkosten (€)",value:L,onChange:h=>v(Number(h.target.value)),inputProps:{min:0,step:.5},helperText:x==="ai_calculated"?"Im manuellen Modus wird keine KI-Berechnung durchgeführt":void 0}),B&&e.jsx(oe,{fullWidth:!0,size:"small",multiline:!0,rows:2,label:"Versandinformationen (optional)",value:Q||"",onChange:h=>B(h.target.value),placeholder:"z.B. Versand mit DHL, 1-3 Werktage"})]})]}),e.jsxs(r,{children:[e.jsxs(a,{variant:"subtitle2",sx:{fontWeight:600,mb:2,display:"flex",alignItems:"center",gap:1},children:[e.jsx(Be,{size:16}),"Preis"]}),e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:1.5},children:[e.jsx(P,{control:e.jsx(Z,{checked:d,onChange:h=>{X(h.target.checked),h.target.checked&&D(!1)},size:"small"}),label:e.jsxs(r,{children:[e.jsx(a,{variant:"body2",children:"Zu verschenken"}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"Artikel kostenlos abgeben"})]})}),!d&&e.jsx(P,{control:e.jsx(Z,{checked:W,onChange:h=>D(h.target.checked),size:"small"}),label:e.jsxs(r,{children:[e.jsx(a,{variant:"body2",children:"Verhandlungsbasis (VB)"}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"Preis ist verhandelbar"})]})})]})]}),e.jsxs(r,{children:[e.jsxs(a,{variant:"subtitle2",sx:{fontWeight:600,mb:2,display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ge,{size:16}),"Laufzeit"]}),e.jsxs(De,{fullWidth:!0,size:"small",children:[e.jsx(Ne,{children:"Anzeigedauer"}),e.jsxs(Me,{value:E,label:"Anzeigedauer",onChange:h=>N(Number(h.target.value)),children:[e.jsx(y,{value:7,children:"7 Tage"}),e.jsx(y,{value:14,children:"14 Tage"}),e.jsx(y,{value:30,children:"30 Tage"}),e.jsx(y,{value:60,children:"60 Tage"}),e.jsx(y,{value:90,children:"90 Tage"})]})]}),e.jsx(a,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1},children:"Das Inserat wird nach Ablauf automatisch deaktiviert"})]})]})})]})},ni=()=>{const j=As(),{user:u}=Ps(),{balance:x,refetch:L}=Ws(),Q=Es(),W=Bs(Q.breakpoints.down("sm")),[d,E]=i.useState([]),[C,$]=i.useState("upload"),[v,B]=i.useState(!1),[D,X]=i.useState(""),[N,S]=i.useState(!1),[M,k]=i.useState(!1),[V,h]=i.useState(!1),[Y,de]=i.useState(30),[I,he]=i.useState(!1),[U,ge]=i.useState(!1),[qe,He]=i.useState(null),[ue,K]=i.useState(""),[G,Oe]=i.useState([]),[R,Ze]=i.useState(""),[w,Te]=i.useState(null),[pe,xe]=i.useState(!1),[Je,Qe]=i.useState(!1),[ee,me]=i.useState(""),[se,fe]=i.useState(""),[ie,be]=i.useState(""),[Xe,Ye]=i.useState(""),[Ue,es]=i.useState(""),[ss,is]=i.useState(""),[ns,ts]=i.useState([]),[rs,os]=i.useState(""),[as,ls]=i.useState(""),[cs,ds]=i.useState(""),[hs,gs]=i.useState(""),[us,ps]=i.useState(""),[xs,ms]=i.useState(""),[fs,bs]=i.useState([]),[js,ys]=i.useState(""),[_s,Ss]=i.useState(""),[je,ye]=i.useState(!1),[_e,Se]=i.useState("free"),[ze,Ce]=i.useState(0),[ve,ke]=i.useState(""),[Ie,we]=i.useState(!1),[zs,Cs]=i.useState(!1),[Hs,vs]=i.useState("");i.useEffect(()=>{if(!u){j("/");return}(async()=>{try{const[g,o,m]=await Promise.all([_.from("addresses").select("*").eq("user_id",u.id).order("is_default_shipping",{ascending:!1}),_.from("profiles").select("shipping_enabled, shipping_cost, shipping_cost_type, shipping_description, pickup_enabled, show_location_publicly, location_description, ai_analyze_all_images").eq("id",u.id).maybeSingle(),_.from("items").select("id",{count:"exact",head:!0}).eq("user_id",u.id)]);if(g.data){Oe(g.data);const l=g.data.filter(t=>t.address_type==="pickup_only"||t.address_type==="both"),p=l.find(t=>t.is_default_shipping)||l[0];p&&Ze(p.id)}o.data&&(Te(o.data),o.data.shipping_enabled&&ye(o.data.shipping_enabled),o.data.shipping_cost_type&&Se(o.data.shipping_cost_type),o.data.shipping_cost&&Ce(o.data.shipping_cost),o.data.shipping_description&&ke(o.data.shipping_description),o.data.pickup_enabled&&we(o.data.pickup_enabled),o.data.show_location_publicly!==void 0&&Cs(o.data.show_location_publicly),o.data.location_description&&vs(o.data.location_description));const c=(m.count||0)===0;Qe(c),xe(c)}catch(g){console.error("Error loading data:",g)}})()},[u,j]),i.useEffect(()=>{d.length>0&&C==="upload"&&$("choose")},[d,C]);const ks=async(n,g,o)=>{const{data:{session:m}}=await _.auth.getSession(),f=m==null?void 0:m.access_token;if(!f)throw new Error("Keine Authentifizierung vorhanden");const l={Deutschland:"DE",Österreich:"AT",Schweiz:"CH",Frankreich:"FR",Italien:"IT",Spanien:"ES",Niederlande:"NL",Belgien:"BE",Polen:"PL",Tschechien:"CZ"}[g]||"DE",p=await fetch("https://hsbjflixgavjqxvnkivi.supabase.co/functions/v1/analyze-image",{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({imageData:n,shippingCountry:l,additionalNotes:o})}),t=await p.json();if(!p.ok)throw t.insufficientTokens?new Error(`Nicht genügend Tokens. Du hast ${t.currentBalance} Tokens, benötigt wird ${t.required}.`):new Error(t.error||"Analyse fehlgeschlagen");return t},Ae=async()=>{if(!(d.length===0||!u)){he(!0),K("");try{console.log("Starting AI analysis...");const n=G.find(l=>l.id===R),g=(n==null?void 0:n.country)||Le(),m=(w==null?void 0:w.ai_analyze_all_images)??!1?d:[d.find(l=>l.isPrimary)||d[0]];console.log("Analyzing images:",m.length);const f=await Promise.all(m.map(l=>ks(l.preview,g,D)));console.log("Analysis complete:",f);const c=f[0];f.length>1&&f.slice(1).forEach(l=>{l.features&&(c.features=[...c.features||[],...l.features]),l.colors&&(c.colors=[...new Set([...c.colors||[],...l.colors])]),l.accessories&&(c.accessories=[...c.accessories||[],...l.accessories]),l.tags&&(c.tags=[...new Set([...c.tags||[],...l.tags])])}),He(c),me(c.title),fe(c.description),be(c.price.toString()),await L(),console.log("Publishing item with data:",c),await Pe(c),console.log("Item published successfully")}catch(n){console.error("Error in handleAIGenerate:",n),K(n instanceof Error?n.message:"Analyse fehlgeschlagen")}finally{he(!1)}}},Pe=async n=>{var f,c,l;if(!u)return;const g=(n==null?void 0:n.title)||ee,o=(n==null?void 0:n.description)||se,m=(n==null?void 0:n.price)||parseFloat(ie);if(!(!g||!o||!m)){if(!u.email_confirmed_at){K("Bitte bestätigen Sie zuerst Ihre E-Mail-Adresse.");return}ge(!0),K("");try{const p=[];for(const b of d){const q=b.file.name.split(".").pop(),H=`${u.id}/${Date.now()}-${b.id}.${q}`,{error:A}=await _.storage.from("item-images").upload(H,b.file);if(A)throw A;const{data:{publicUrl:O}}=_.storage.from("item-images").getPublicUrl(H);p.push(O)}const t=G.find(b=>b.id===R),Is={Deutschland:"DE",Österreich:"AT",Schweiz:"CH",Frankreich:"FR",Italien:"IT",Spanien:"ES",Niederlande:"NL",Belgien:"BE",Polen:"PL",Tschechien:"CZ"}[(t==null?void 0:t.country)||Le()]||"DE",ws=p[d.findIndex(b=>b.isPrimary)]||p[0],s=n||qe,{data:F,error:We}=await _.from("items").insert({user_id:u.id,title:g,description:o,price:m,image_url:ws,status:v?"published":"draft",ai_generated:s!==null,category:s==null?void 0:s.category,subcategory:s==null?void 0:s.subcategory,condition:s==null?void 0:s.condition,brand:s==null?void 0:s.brand,size:s==null?void 0:s.size,weight:s==null?void 0:s.weight,dimensions_length:(f=s==null?void 0:s.dimensions)==null?void 0:f.length,dimensions_width:(c=s==null?void 0:s.dimensions)==null?void 0:c.width,dimensions_height:(l=s==null?void 0:s.dimensions)==null?void 0:l.height,material:s==null?void 0:s.material,colors:s==null?void 0:s.colors,style:s==null?void 0:s.style,serial_number:s==null?void 0:s.serialNumber,features:s==null?void 0:s.features,accessories:s==null?void 0:s.accessories,tags:s==null?void 0:s.tags,postal_code:t==null?void 0:t.postal_code,location:t==null?void 0:t.city,estimated_weight_kg:s==null?void 0:s.estimated_weight_kg,package_dimensions:s==null?void 0:s.package_dimensions,ai_shipping_domestic:s==null?void 0:s.ai_shipping_domestic,ai_shipping_international:s==null?void 0:s.ai_shipping_international,selected_address_id:R||null,shipping_from_country:Is,snapshot_shipping_enabled:je,snapshot_shipping_cost:ze,snapshot_shipping_cost_type:_e,snapshot_shipping_description:ve||null,snapshot_pickup_enabled:Ie,snapshot_show_location_publicly:zs,price_negotiable:N,is_free:M,price_on_request:V,duration_days:Y,snapshot_pickup_address:t==null?void 0:t.address,snapshot_pickup_postal_code:t==null?void 0:t.postal_code,snapshot_pickup_city:t==null?void 0:t.city,snapshot_pickup_country:t==null?void 0:t.country,snapshot_location_description:(w==null?void 0:w.location_description)||null}).select().single();if(We)throw We;if(console.log("Item created:",F),p.length>0&&F){const b=p.map((H,A)=>{var O;return{item_id:F.id,image_url:H,display_order:A,is_primary:((O=d[A])==null?void 0:O.isPrimary)||A===0}});console.log("Inserting item images:",b.length);const{error:q}=await _.from("item_images").insert(b);if(q)throw q;console.log("Images inserted successfully")}console.log("Navigating to:",`/item/${F.id}`),j(`/item/${F.id}`)}catch(p){K(p instanceof Error?p.message:"Upload fehlgeschlagen")}finally{ge(!1)}}};return e.jsxs(Ds,{maxWidth:"md",sx:{py:4,pb:12},children:[e.jsxs(r,{sx:{mb:5,textAlign:"center"},children:[e.jsx(a,{variant:"h4",sx:{fontWeight:700,color:"primary.main",fontSize:{xs:"1.75rem",md:"2.25rem"},letterSpacing:"-0.02em",mb:1},children:"Artikel erstellen"}),e.jsx(a,{variant:"body2",sx:{color:"text.secondary",fontSize:"0.95rem",maxWidth:"500px",mx:"auto"},children:"Lade deine Bilder hoch und lass die KI die Arbeit machen"})]}),ue&&e.jsx(Ke,{severity:"error",sx:{mb:3},children:ue}),pe&&Je&&e.jsx(Vs,{in:pe,children:e.jsx(Ke,{severity:"info",icon:e.jsx(J,{size:20}),action:e.jsx(Ns,{size:"small",onClick:()=>xe(!1),sx:{color:"inherit"},children:e.jsx(Ms,{size:18})}),sx:{mb:3,backgroundColor:"rgba(16, 185, 129, 0.08)",borderColor:"#10b981",border:"1px solid","& .MuiAlert-icon":{color:"#10b981"}},children:e.jsxs(r,{children:[e.jsx(a,{variant:"subtitle2",sx:{fontWeight:600,mb:.5,color:"#047857"},children:"💡 Willkommen! Ihr erster Artikel"}),e.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:1},children:"Laden Sie einfach Fotos hoch - unser KI-Assistent analysiert die Bilder automatisch und schlägt Titel, Beschreibung, Preis und weitere Details vor."}),e.jsxs(a,{variant:"caption",sx:{color:"text.secondary",display:"block"},children:["Sie können die KI-Einstellungen jederzeit unter ",e.jsx("strong",{children:"Profil → Einstellungen → KI-Assistent"})," anpassen."]})]})})}),d.length===0?e.jsx($e,{images:d,onImagesChange:E}):e.jsxs(Re,{sx:{p:{xs:2,md:3},borderRadius:3,mb:3},children:[e.jsx($e,{images:d,onImagesChange:E}),d.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(r,{sx:{mt:3,p:2.5,border:"2px solid",borderColor:"primary.main",borderRadius:2,bgcolor:"rgba(25, 118, 210, 0.02)"},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1.5},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(J,{size:18,style:{color:"#1976d2"}}),e.jsx(a,{variant:"subtitle2",sx:{fontWeight:600,color:"primary.main"},children:"KI-Unterstützung"})]}),e.jsx(z,{icon:e.jsx(Ks,{size:16}),label:`${x} Tokens`,size:"small",color:x>0?"primary":"error",sx:{fontWeight:600}})]}),e.jsx(oe,{fullWidth:!0,multiline:!0,rows:3,label:"Zusätzliche Informationen für die KI (optional)",placeholder:"z.B. Erbstück, Notverkauf, versteckte Mängel, besondere Merkmale, die auf dem Bild nicht sichtbar sind...",value:D,onChange:n=>X(n.target.value),helperText:"Diese Informationen helfen der KI, eine bessere Beschreibung und einen realistischeren Preis zu erstellen",sx:{"& .MuiOutlinedInput-root":{backgroundColor:"white"}}})]}),e.jsx(qs,{pickupAddress:(()=>{const n=G.find(o=>o.id===R);return n?[n.address,n.postal_code,n.city].filter(Boolean).join(", "):""})(),shippingEnabled:je,shippingCostType:_e,shippingCostFixed:ze,shippingDescription:ve,priceNegotiable:N,isFree:M,duration:Y,onShippingEnabledChange:ye,onShippingCostTypeChange:Se,onShippingCostFixedChange:Ce,onShippingDescriptionChange:ke,onPriceNegotiableChange:S,onIsFreeChange:k,onDurationChange:de,pickupEnabled:Ie,onPickupEnabledChange:we,phoneVisible:(()=>{const n=G.find(g=>g.id===R);return(n==null?void 0:n.show_phone_publicly)||!1})()})]}),C==="choose"&&d.length>0&&e.jsxs(r,{sx:{mt:4},children:[e.jsxs(r,{sx:{display:"flex",gap:2,flexDirection:{xs:"column",sm:"row"}},children:[e.jsx(T,{fullWidth:!0,variant:"outlined",size:"large",onClick:()=>$("manual"),sx:{py:1.5,textTransform:"none",fontSize:"0.95rem",fontWeight:500,borderRadius:2},children:"Manuell weitermachen"}),e.jsx(T,{fullWidth:!0,variant:"contained",size:"large",onClick:Ae,disabled:I||x<1,startIcon:I?e.jsx(ne,{size:18,color:"inherit"}):e.jsx(J,{size:18}),sx:{py:1.5,textTransform:"none",fontSize:"0.95rem",fontWeight:600,borderRadius:2,boxShadow:2},children:I?"Generiere mit KI...":x<2500?"Nicht genügend Tokens":"Mit KI erzeugen (~2.500 Tokens)"})]}),e.jsx(r,{sx:{mt:2,p:1.5,bgcolor:"rgba(25, 118, 210, 0.04)",borderRadius:1,border:"1px solid",borderColor:"rgba(25, 118, 210, 0.2)"},children:e.jsx(P,{control:e.jsx(Fe,{checked:v,onChange:n=>B(n.target.checked),size:"small"}),label:e.jsxs(r,{children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:"Gleich veröffentlichen"}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"Nach KI-Generierung direkt veröffentlichen"})]}),sx:{m:0}})})]})]}),C==="manual"&&e.jsxs(Re,{sx:{borderRadius:3,overflow:"hidden"},children:[e.jsxs(r,{sx:{p:3},children:[e.jsx(a,{variant:"h6",fontWeight:600,gutterBottom:!0,sx:{mb:3},children:"Artikelinformationen"}),e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsxs(ae,{defaultExpanded:!0,elevation:0,sx:{border:"1px solid",borderColor:"divider","&:before":{display:"none"}},children:[e.jsx(le,{expandIcon:e.jsx(re,{size:20}),sx:{bgcolor:"rgba(25, 118, 210, 0.04)","&:hover":{bgcolor:"rgba(25, 118, 210, 0.08)"}},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(Rs,{size:20,color:"#1976d2"}),e.jsx(a,{fontWeight:600,children:"Grundinformationen"})]})}),e.jsx(ce,{sx:{p:3},children:e.jsx(Fs,{title:ee,description:se,price:ie,category:Xe,brand:Ue,condition:ss,tags:ns,priceNegotiable:N,isFree:M,priceOnRequest:V,duration:Y,onTitleChange:me,onDescriptionChange:fe,onPriceChange:be,onCategoryChange:Ye,onBrandChange:es,onConditionChange:is,onTagsChange:ts,onPriceNegotiableChange:S,onIsFreeChange:k,onPriceOnRequestChange:h,onDurationChange:de,isMobile:W,hideExtendedSettings:!0})})]}),e.jsxs(ae,{elevation:0,sx:{border:"1px solid",borderColor:"divider","&:before":{display:"none"}},children:[e.jsx(le,{expandIcon:e.jsx(re,{size:20}),sx:{bgcolor:"rgba(156, 39, 176, 0.04)","&:hover":{bgcolor:"rgba(156, 39, 176, 0.08)"}},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(te,{size:20,color:"#9c27b0"}),e.jsx(a,{fontWeight:600,children:"Details (Optional)"})]})}),e.jsx(ce,{sx:{p:3},children:e.jsx(Ls,{size:rs,weight:as,dimensionsLength:cs,dimensionsWidth:hs,dimensionsHeight:us,material:xs,colors:fs,style:js,serialNumber:_s,onSizeChange:os,onWeightChange:ls,onDimensionsChange:(n,g,o)=>{ds(n),gs(g),ps(o)},onMaterialChange:ms,onColorsChange:bs,onStyleChange:ys,onSerialNumberChange:Ss,isMobile:W})})]})]})]}),e.jsxs(r,{sx:{p:3,pt:0},children:[e.jsx(r,{sx:{mb:2,p:1.5,bgcolor:"rgba(25, 118, 210, 0.04)",borderRadius:1,border:"1px solid",borderColor:"rgba(25, 118, 210, 0.2)"},children:e.jsx(P,{control:e.jsx(Fe,{checked:v,onChange:n=>B(n.target.checked),size:"small"}),label:e.jsxs(r,{children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:"Gleich veröffentlichen"}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"Inserat direkt online stellen (sonst als Entwurf speichern)"})]}),sx:{m:0}})}),e.jsxs(r,{sx:{display:"flex",gap:2,flexDirection:{xs:"column",sm:"row"}},children:[e.jsx(T,{fullWidth:!0,variant:"outlined",size:"large",onClick:Ae,disabled:I,startIcon:I?e.jsx(ne,{size:18,color:"inherit"}):e.jsx(J,{size:18}),sx:{py:1.5,textTransform:"none",fontSize:"0.95rem",fontWeight:500,borderRadius:2},children:I?"Generiere mit KI...":"Mit KI erzeugen"}),e.jsx(T,{fullWidth:!0,variant:"contained",size:"large",onClick:()=>Pe(),disabled:U||!ee||!se||!ie,startIcon:U?e.jsx(ne,{size:18,color:"inherit"}):e.jsx(Gs,{size:18}),sx:{py:1.5,textTransform:"none",fontSize:"0.95rem",fontWeight:600,borderRadius:2},children:U?"Speichere...":v?"Veröffentlichen":"Als Entwurf speichern"})]})]})]})]})};export{ni as ItemCreatePage};
