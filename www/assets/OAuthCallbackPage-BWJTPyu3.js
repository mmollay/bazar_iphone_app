import{x as i,r as o,j as e,B as l,T as c,H as u,f as h}from"./index-C_oMTnp5.js";const f=()=>{const r=i(),[a,n]=o.useState(null);return o.useEffect(()=>{(async()=>{try{const t=window.location.href;console.log("[OAuth Callback] Processing URL:",t);const{error:s}=await h.auth.exchangeCodeForSession(t);if(s){console.error("[OAuth Callback] Exchange error:",s),n("Anmeldung fehlgeschlagen. Bitte versuche es erneut."),setTimeout(()=>r("/"),3e3);return}console.log("[OAuth Callback] Success! Redirecting to home..."),r("/",{replace:!0})}catch(t){console.error("[OAuth Callback] Error:",t),n("Ein Fehler ist aufgetreten. Du wirst weitergeleitet..."),setTimeout(()=>r("/"),3e3)}})()},[r]),a?e.jsx(l,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",gap:2},children:e.jsx(c,{variant:"h6",color:"error",children:a})}):e.jsxs(l,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",gap:2},children:[e.jsx(u,{size:60}),e.jsx(c,{variant:"h6",children:"Anmeldung wird verarbeitet..."})]})};export{f as OAuthCallbackPage};
