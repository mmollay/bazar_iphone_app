import{e as S,r as i,f as m}from"./index-BSUU9nrj.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=S("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),E=()=>{const[r,p]=i.useState(null),[y,o]=i.useState(!0),[f,w]=i.useState(null),a=async()=>{var s,n,c,_,g,l,u;try{o(!0);const{data:e,error:d}=await m.from("credit_system_settings").select("*").in("setting_key",["daily_free_listings","cost_per_listing","community_pot_balance","power_user_credit_price","min_donation_amount","power_user_min_purchase","low_pot_warning_threshold"]);if(d)throw d;if(e){const h={dailyFreeListings:parseFloat(((s=e.find(t=>t.setting_key==="daily_free_listings"))==null?void 0:s.setting_value)||"5"),costPerListing:parseFloat(((n=e.find(t=>t.setting_key==="cost_per_listing"))==null?void 0:n.setting_value)||"0.20"),communityPotBalance:parseInt(((c=e.find(t=>t.setting_key==="community_pot_balance"))==null?void 0:c.setting_value)||"0"),powerUserCreditPrice:parseFloat(((_=e.find(t=>t.setting_key==="power_user_credit_price"))==null?void 0:_.setting_value)||"0.20"),minDonationAmount:parseFloat(((g=e.find(t=>t.setting_key==="min_donation_amount"))==null?void 0:g.setting_value)||"5.00"),powerUserMinPurchase:parseFloat(((l=e.find(t=>t.setting_key==="power_user_min_purchase"))==null?void 0:l.setting_value)||"10.00"),lowPotWarningThreshold:parseInt(((u=e.find(t=>t.setting_key==="low_pot_warning_threshold"))==null?void 0:u.setting_value)||"100")};p(h)}}catch(e){w(e instanceof Error?e.message:"Failed to load settings"),console.error("Error loading system settings:",e)}finally{o(!1)}};return i.useEffect(()=>{a()},[]),{settings:r,loading:y,error:f,updateSetting:async s=>{try{const{error:n}=await m.from("credit_system_settings").update({setting_value:s.setting_value.toString(),updated_at:new Date().toISOString()}).eq("setting_key",s.setting_key);if(n)throw n;await a()}catch(n){throw n}},refresh:a}},D=r=>r==null?"0":r.toLocaleString("de-DE"),L=r=>r==null?"0,00 â‚¬":r.toLocaleString("de-DE",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2});export{F as A,L as a,D as f,E as u};
