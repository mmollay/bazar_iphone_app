const c={AT:"at",DE:"de",CH:"ch"},i=async(n,s)=>{const o=n.replace(/\s/g,"").trim();if(!o||o.length<3)return[];const a=c[s];if(!a)return[];try{const t=await fetch(`https://api.zippopotam.us/${a}/${encodeURIComponent(o)}`,{signal:AbortSignal.timeout(5e3)});if(!t.ok){if(t.status===404)return[];throw new Error(`HTTP error! status: ${t.status}`)}const r=await t.json();return!r.places||!Array.isArray(r.places)?[]:r.places.map(e=>({postalCode:e["post code"]||o,city:e["place name"],country:s,state:e.state}))}catch(t){return t instanceof Error&&t.name==="AbortError"?console.warn("Postal code lookup timeout"):console.error("Error looking up postal code:",t),[]}};export{i as searchCitiesByPostalCode};
